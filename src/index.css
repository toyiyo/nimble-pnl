@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Warm Culinary Theme - Light Mode */
    --background: 40 33% 98%;
    --foreground: 30 15% 15%;

    --card: 0 0% 100%;
    --card-foreground: 30 15% 15%;

    --popover: 0 0% 100%;
    --popover-foreground: 30 15% 15%;

    --primary: 16 60% 52%;
    --primary-foreground: 0 0% 100%;

    --secondary: 40 30% 94%;
    --secondary-foreground: 30 15% 15%;

    --muted: 40 20% 92%;
    --muted-foreground: 30 10% 45%;

    --accent: 85 25% 45%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;

    --success: 142 55% 45%;
    --success-foreground: 0 0% 100%;

    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;

    --info: 200 80% 50%;
    --info-foreground: 0 0% 100%;

    --border: 40 20% 88%;
    --input: 40 20% 88%;
    --ring: 16 60% 52%;

    --radius: 0.75rem;

    /* Dark Contrast Sidebar */
    --sidebar-background: 30 15% 12%;
    --sidebar-foreground: 40 20% 92%;
    --sidebar-primary: 16 60% 52%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 30 12% 18%;
    --sidebar-accent-foreground: 40 20% 92%;
    --sidebar-border: 30 12% 20%;
    --sidebar-ring: 16 60% 52%;

    /* Warm-tinted charts */
    --chart-1: 16 60% 52%;
    --chart-2: 85 25% 45%;
    --chart-3: 142 55% 45%;
    --chart-4: 38 92% 50%;
    --chart-5: 30 40% 35%;
  }

  .dark {
    /* Warm Culinary Theme - Dark Mode */
    --background: 30 15% 10%;
    --foreground: 40 20% 92%;

    --card: 30 15% 12%;
    --card-foreground: 40 20% 92%;

    --popover: 30 15% 12%;
    --popover-foreground: 40 20% 92%;

    --primary: 16 60% 55%;
    --primary-foreground: 0 0% 100%;

    --secondary: 30 12% 18%;
    --secondary-foreground: 40 20% 92%;

    --muted: 30 12% 18%;
    --muted-foreground: 40 15% 60%;

    --accent: 85 25% 50%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 62.8% 45%;
    --destructive-foreground: 0 0% 100%;

    --success: 142 55% 50%;
    --success-foreground: 0 0% 100%;

    --warning: 38 92% 55%;
    --warning-foreground: 0 0% 100%;

    --info: 200 80% 55%;
    --info-foreground: 0 0% 100%;

    --border: 30 12% 20%;
    --input: 30 12% 20%;
    --ring: 16 60% 55%;

    --sidebar-background: 30 15% 8%;
    --sidebar-foreground: 40 20% 92%;
    --sidebar-primary: 16 60% 55%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 30 12% 14%;
    --sidebar-accent-foreground: 40 20% 92%;
    --sidebar-border: 30 12% 16%;
    --sidebar-ring: 16 60% 55%;

    --chart-1: 16 60% 55%;
    --chart-2: 85 25% 50%;
    --chart-3: 142 55% 50%;
    --chart-4: 38 92% 55%;
    --chart-5: 30 40% 40%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    overflow-x: hidden;
  }
}

/* Contain Stripe iframes to prevent horizontal scroll */
iframe[src*="stripe.com"],
iframe[name^="__privateStripe"] {
  max-width: 100vw !important;
  contain: layout size style !important;
}

@keyframes wave {
  0%, 100% {
    transform: rotate(0deg);
  }
  10%, 30% {
    transform: rotate(14deg);
  }
  20% {
    transform: rotate(-8deg);
  }
  40% {
    transform: rotate(-4deg);
  }
  50% {
    transform: rotate(10deg);
  }
  60% {
    transform: rotate(0deg);
  }
}

/* Scanner-specific animations */
@keyframes scan-line {
  0%, 100% { transform: translateY(-100%); opacity: 0; }
  50% { opacity: 1; }
}

@keyframes pulse-ring {
  0% { transform: scale(0.95); opacity: 1; }
  100% { transform: scale(1.05); opacity: 0; }
}

@keyframes shimmer {
  0% { background-position: -1000px 0; }
  100% { background-position: 1000px 0; }
}

@keyframes cueValueWash {
  0% {
    background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(226,232,240,0.6) 50%, rgba(255,255,255,0) 100%);
    background-size: 200% 100%;
    background-position: 0% 50%;
    color: inherit;
  }
  50% {
    background-position: 100% 50%;
    color: rgba(148, 163, 184, 0.95);
  }
  100% {
    background-position: 0% 50%;
    color: inherit;
  }
}

.cue-value-wash {
  animation: cueValueWash 0.6s ease-in-out;
  display: inline-block;
}

@media (prefers-reduced-motion: reduce) {
  .cue-value-wash {
    animation: none;
  }
}

/* Prose styles for markdown in chat */
.prose {
  @apply text-foreground max-w-full;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.prose h1,
.prose h2,
.prose h3,
.prose h4 {
  @apply text-foreground font-semibold;
  word-wrap: break-word;
}

.prose h1 {
  @apply text-xl md:text-2xl mb-4 mt-6;
}

.prose h2 {
  @apply text-lg md:text-xl mb-3 mt-5;
}

.prose h3 {
  @apply text-base md:text-lg mb-2 mt-4;
}

.prose p {
  @apply mb-3;
  word-wrap: break-word;
}

.prose strong {
  @apply font-semibold text-foreground;
}

.prose code {
  @apply text-sm;
  word-wrap: break-word;
}

.prose pre {
  @apply my-4;
  max-width: 100%;
  overflow-x: auto;
}

.prose blockquote {
  @apply border-l-4 border-primary pl-4 italic my-4;
  word-wrap: break-word;
}

.prose hr {
  @apply my-6 border-border;
}

.prose ul {
  @apply my-2;
}

.prose ol {
  @apply my-2;
}

.prose li {
  @apply my-1;
  word-wrap: break-word;
}

.prose a {
  word-wrap: break-word;
}

.prose table {
  display: block;
  max-width: 100%;
  overflow-x: auto;
}

/* Dark mode prose */
.dark .prose {
  @apply text-foreground;
}

.dark .prose h1,
.dark .prose h2,
.dark .prose h3,
.dark .prose h4 {
  @apply text-foreground;
}

.dark .prose strong {
  @apply text-foreground;
}

.dark .prose code {
  @apply bg-muted;
}

.dark .prose blockquote {
  @apply border-primary;
}
